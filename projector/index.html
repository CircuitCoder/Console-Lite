<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>映射器</title>
    <link rel="stylesheet" href="./style.css">
    <script src="./action.js"></script>
  </head>
  <body onload="setup()">
    <div class="layer full background">
      <div class="brand">
        Console Next
      </div>
    </div>

    <div class="bottom-bar" v-show="connected" transition="opacity">
      <div class="conf-name">
        {{ conf }}
      </div>
      <div class="counter-group">
        <i class="material-icons">person</i>
        <div class="counter">
          <div class="present">{{ present }}</div>
          <div class="separator">/</div>
          <div class="all">{{ seat }}</div>
        </div>
        <div class="counter-indicator">
          <div class="counter-indicator-hint">简单多数</div>
          <div class="counter-indicator-value">{{ simpleHalfCount }}</div>
        </div>
        <div class="counter-indicator">
          <div class="counter-indicator-hint">二分之三</div>
          <div class="counter-indicator-value">{{ twoThirdCount }}</div>
        </div>
      </div>
    </div>

    <div class="layer timer-layer" v-show="mode === 'timer'">
      <div class="timer-name">{{ timerName }}</div>
      <timer class="timer-left" :time="timerLeft" :fix-minute="true"></timer>
      <div class="timer-progress" :class="{ active: timerActive }">
        <div class="timer-progress-inner"
          :style="{ transform: timerProgressOffset }">
        </div>
      </div>
    </div>

    <div class="layer file-layer" v-show="mode === 'file'">
      <div class="file-name">
        {{ shortName }}
      </div>
      <div class="file-pdf" v-el:pages v-show="fileType === 'pdf'"></div>
      <div class="file-image" v-if="fileType === 'image'">
        <img :src="imgRendered"></img>
      </div>
      <div class="file-shadow"></div>
    </div>

    <div class="layer full mask" v-show="switching || !ready" transition="opacity"></div>
  </body>
</html>
